{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst API=\"52799161-b762ef396431272d847d94f09\";\nconst BASE_URL=\"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query){\n   return  axios(BASE_URL,{\n        params:{\n            key:API,\n            q:query,\n            image_type: \"photo\",\n            orientation:\"horizontal\",\n            safesearch:true\n        }\n    })\n    .then((response)=>{\n        if(response.data.hits.length==0){\n            throw new Error(); \n        };\n        return response.data.hits\n    })\n    .catch((error)=>{\n        iziToast.error({\n           title: 'Error',\n           message: 'Sorry, there are no images matching your search query. Please try again!',\n           position: \"topRight\"\n});\nreturn [];\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery=document.querySelector(\".gallery\");\nconst loader=document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n   captionPosition: 'bottom',\n});\n\nexport function createGallery(images){\n     const markup = images.map((image) => {\n    return `\n      <li>\n        <a href=\"${image.largeImageURL}\" >\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <div class=\"image-info\">\n  <div class=\"stat\">\n    <span>Likes</span>\n    <strong>${image.likes}</strong>\n  </div>\n  <div class=\"stat\">\n    <span>Comments</span>\n    <strong>${image.comments}</strong>\n  </div>\n  <div class=\"stat\">\n    <span>Views</span>\n    <strong>${image.views}</strong>\n  </div>\n  <div class=\"stat\">\n    <span>Downloads</span>\n    <strong>${image.downloads}</strong>\n  </div>\n</div>\n    </li>\n    `;\n  }).join(\"\");\n  console.log(lightbox);\n    gallery.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n};\n\nexport function clearGallery(){\n    gallery.innerHTML=\"\";\n};\n\nexport function showLoader(){\n    loader.classList.add(\"is-visible\");\n}\n\nexport function hideLoader(){\n    loader.classList.remove(\"is-visible\");\n}\n\n\n\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form=document.querySelector(\".form\");\n\nform.addEventListener(\"submit\",function(event){\nevent.preventDefault();\nconst inputValue = event.target.elements[\"search-text\"].value.trim();\nclearGallery();\nshowLoader();\n  if (inputValue === '') {\n    hideLoader();\n     iziToast.error({\n      title: 'Error',\n      message: \"You entered an empty string\",\n      position: \"topRight\",\n      timeout: 3000,\n    });\n    return form.reset();\n  }\n getImagesByQuery(inputValue)\n .then((images)=>{\n    hideLoader();\n    if (images.length > 0) {\n        createGallery(images);\n      }\n })\n .catch(() => {\n      hideLoader(); \n    })\n.finally(()=>{\n    form.reset();\n})\n}\n )\n\n\n\n\n\n\n\n"],"names":["API","BASE_URL","getImagesByQuery","query","axios","response","error","iziToast","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","event","inputValue"],"mappings":"owBAKA,MAAMA,EAAI,qCACJC,EAAS,2BAER,SAASC,EAAiBC,EAAM,CACpC,OAAQC,EAAMH,EAAS,CAClB,OAAO,CACH,IAAID,EACJ,EAAEG,EACF,WAAY,QACZ,YAAY,aACZ,WAAW,EACd,CACT,CAAK,EACA,KAAME,GAAW,CACd,GAAGA,EAAS,KAAK,KAAK,QAAQ,EAC1B,MAAM,IAAI,MAEd,OAAOA,EAAS,KAAK,IAC7B,CAAK,EACA,MAAOC,IACJC,EAAS,MAAM,CACZ,MAAO,QACP,QAAS,2EACT,SAAU,UACrB,CAAC,EACM,GACF,CACL,CC7BA,MAAMC,EAAQ,SAAS,cAAc,UAAU,EACzCC,EAAO,SAAS,cAAc,SAAS,EAEvCC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,IACb,gBAAiB,QACpB,CAAC,EAEM,SAASC,EAAcC,EAAO,CAChC,MAAMC,EAASD,EAAO,IAAKE,GACrB;AAAA;AAAA,mBAEQA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,cAK9CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,cAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,cAIdA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,cAIXA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK1B,EAAE,KAAK,EAAE,EACV,QAAQ,IAAIL,CAAQ,EAClBF,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAc,CAC1BR,EAAQ,UAAU,EACtB,CAEO,SAASS,GAAY,CACxBR,EAAO,UAAU,IAAI,YAAY,CACrC,CAEO,SAASS,GAAY,CACxBT,EAAO,UAAU,OAAO,YAAY,CACxC,CC7CA,MAAMU,EAAK,SAAS,cAAc,OAAO,EAEzCA,EAAK,iBAAiB,SAAS,SAASC,EAAM,CAC9CA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAG5D,GAFFJ,IACAC,IACMI,IAAe,GACjB,OAAAH,IACCX,EAAS,MAAM,CACd,MAAO,QACP,QAAS,8BACT,SAAU,WACV,QAAS,GACf,CAAK,EACMY,EAAK,QAEfjB,EAAiBmB,CAAU,EAC1B,KAAMR,GAAS,CACbK,IACIL,EAAO,OAAS,GAChBD,EAAcC,CAAM,CAE5B,CAAE,EACA,MAAM,IAAM,CACRK,GACN,CAAK,EACJ,QAAQ,IAAI,CACTC,EAAK,MAAK,CACd,CAAC,CACD,CACA"}